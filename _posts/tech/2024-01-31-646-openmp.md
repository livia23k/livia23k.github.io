---
title: OpenMP | Notes for OpenMP Programming
categories: [Computer Science, Parallel]
tags: [tech, parallel, library, 24spring, class note]
img_path: /assets/img/post/2024-01-31-opemmp/
---

## Sentences
    

### #pragma omp parallel 

- users are able to define thread works on your own using omp_get_threads(), omp_get_thread_num()

- do nothing if there is no designation

- have implicit barrier (compulsory sync for all threads) at the end of this region


### #pragma omp parallel for 

- Iterations split over different threads (Done by OpenMP)

- Iterations are assumed to be independent

- Without an explicit scheduling clause, OpenMP decides how to distribute the iterations based on the implementation's default behavior, which can vary.  

- Do not assume iterations to thread mapping

#### num_threads(n)

- assigned n threads for the work

#### shared(j)

- the variable "j" is shared among the outer scope (where the parallel region is defined) and all threads within that parallel region

#### private(k)

- declared a new uninitialized "k" in the parallel for region

- this variable will be discarded at the end of the region

#### firstprivate(k)

- initialize the new "k" in parallel region with the value "k" from the master thread

- so all threads start will the same value.

- the "k" will be discarded after the region.

#### lastprivate(k)

- the "k" in the master thread will get the "k" value from the last operating thread


### #pragma omp single

- have an implicit barrier

- only one of the threads will execute this region

### #pragma omp single **nowait**

- no implicit barrier

### #pragma omp barrier

- explicit barrier

### #pragma omp critical

- one thread execute these code at a time

- all threads should do, but one at a time

### #pragma omp atomic

- similar outcome as critical do

- but lighter and faster

### schedule(type, chunk_size)



